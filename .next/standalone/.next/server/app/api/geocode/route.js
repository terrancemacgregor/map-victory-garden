"use strict";(()=>{var e={};e.id=129,e.ids=[129],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6939:(e,o,t)=>{t.r(o),t.d(o,{headerHooks:()=>u,originalPathname:()=>g,requestAsyncStorage:()=>c,routeModule:()=>i,serverHooks:()=>l,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>p});var r={};t.r(r),t.d(r,{GET:()=>GET});var a=t(884),s=t(6132),n=t(5798);async function GET(e){let o=e.nextUrl.searchParams,t=o.get("zip");if(console.log("[Geocode API] Request received for ZIP:",t),!t||!/^\d{5}$/.test(t))return console.log("[Geocode API] Invalid ZIP code format:",t),n.Z.json({error:"Invalid ZIP code format"},{status:400});try{let e=`https://nominatim.openstreetmap.org/search?format=json&countrycodes=us&postalcode=${t}&limit=1`;console.log("[Geocode API] Fetching from Nominatim:",e);let o=await fetch(e,{headers:{"User-Agent":"Victory-Garden-Map/1.0"}});if(console.log("[Geocode API] Nominatim response status:",o.status),!o.ok)return console.error("[Geocode API] Nominatim error:",o.status,o.statusText),n.Z.json({error:"Geocoding service unavailable"},{status:o.status});let r=await o.json();return console.log("[Geocode API] Nominatim returned",r.length,"results"),r.length>0&&console.log("[Geocode API] First result:",{lat:r[0].lat,lon:r[0].lon,display_name:r[0].display_name}),n.Z.json(r)}catch(e){return console.error("[Geocode API] Error:",e),n.Z.json({error:"Failed to fetch geocoding data"},{status:500})}}let i=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/geocode/route",pathname:"/api/geocode",filename:"route",bundlePath:"app/api/geocode/route"},resolvedPagePath:"/Users/terrancemacgregor/dev/personal/garden/victory_map/src/app/api/geocode/route.ts",nextConfigOutput:"standalone",userland:r}),{requestAsyncStorage:c,staticGenerationAsyncStorage:d,serverHooks:l,headerHooks:u,staticGenerationBailout:p}=i,g="/api/geocode/route"}};var o=require("../../../webpack-runtime.js");o.C(e);var __webpack_exec__=e=>o(o.s=e),t=o.X(0,[997],()=>__webpack_exec__(6939));module.exports=t})();